{% extends "admin/base.html" %}

{% block title %}n8n Webhooks{% endblock %}
{% block header_title %}n8n Webhooks{% endblock %}
{% block header_subtitle %}Webhook-URLs f√ºr n8n-Workflows verwalten{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1>n8n Webhook Management</h1>
        <p>Hier k√∂nnen Sie die Test- und Produktions-Webhook-URLs f√ºr Ihre n8n-Workflows hinterlegen.</p>
    </div>
    <div class="header-actions">
        <a href="{{ url_for('admin_routes.save_n8n_webhook_config') }}" class="btn btn-primary">
            <span class="btn-icon">üíæ</span>
            Speichern
        </a>
    </div>
</div>

<div class="content-card">
    <form method="post" action="{{ url_for('admin_routes.save_n8n_webhook_config') }}">
        <div class="form-grid">
            <div class="form-group">
                <label for="test_webhook" class="form-label">Test Webhook URL</label>
                <input type="url" id="test_webhook" name="test_webhook" class="form-input" value="{{ config.get('test_webhook', '') }}" placeholder="https://n8n.example.com/webhook-test/.../webhook">
                <p class="form-hint">Die URL, die f√ºr Testl√§ufe aus der n8n-Oberfl√§che verwendet wird.</p>
            </div>

            <div class="form-group">
                <label for="production_webhook" class="form-label">Production Webhook URL</label>
                <input type="url" id="production_webhook" name="production_webhook" class="form-input" value="{{ config.get('production_webhook', '') }}" placeholder="https://n8n.example.com/webhook/.../webhook">
                <p class="form-hint">Die URL f√ºr den produktiven Betrieb (aktiver Workflow).</p>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                <span class="btn-icon">üíæ</span>
                Konfiguration Speichern
            </button>
        </div>
    </form>
</div>

<div class="content-card">
    <h3>Hinweise zur Verwendung</h3>
    <ul>
        <li>Stellen Sie sicher, dass die URLs korrekt und erreichbar sind.</li>
        <li>Der Service `UniversalN8NService` in der Chronos Engine wird diese URLs verwenden, um Aktionen in n8n auszul√∂sen.</li>
        <li>√Ñnderungen werden nach dem Speichern sofort aktiv.</li>
    </ul>
</div>
{% endblock %}