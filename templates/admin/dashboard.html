{% extends "admin/base.html" %}

{% block title %}Chronos Admin Dashboard{% endblock %}
{% block header_title %}Chronos Admin{% endblock %}
{% block header_subtitle %}Systemsteuerung &amp; Governance{% endblock %}

{% block content %}
<div class="admin-overview animate-fade-in">
    <div class="admin-header">
        <div>
            <h2>Chronos Admin Dashboard</h2>
            <p>Verwalte Konfiguration, Governance und Betriebsüberwachung der Chronos Engine.</p>
        </div>
        <div class="header-actions">
            <a class="btn btn-primary" href="/dashboard">
                <span aria-hidden="true">🏠</span>
                Zur Benutzeroberfläche
            </a>
        </div>
    </div>

    <div class="admin-grid animate-stagger">
        <a href="/admin/whitelists" class="card admin-card">
            <div class="admin-card-header">
                <div class="admin-card-icon">🛡️</div>
                <h3 class="admin-card-title">System Whitelists</h3>
            </div>
            <p class="admin-card-description">Steuere zulässige Systeme, Aktionen und Parameter für externe Integrationen.</p>
            <div class="admin-card-footer">
                <span class="admin-card-action">Verwalten →</span>
            </div>
        </a>

        <a href="/admin/workflows" class="card admin-card">
            <div class="admin-card-header">
                <div class="admin-card-icon">⚡</div>
                <h3 class="admin-card-title">Action Workflows</h3>
            </div>
            <p class="admin-card-description">Automatisiere if-this-then-that Abläufe und orchestriere Kommandoketten.</p>
            <div class="admin-card-footer">
                <span class="admin-card-action">Konfigurieren →</span>
            </div>
        </a>

        <a href="/admin/email-templates" class="card admin-card">
            <div class="admin-card-header">
                <div class="admin-card-icon">📧</div>
                <h3 class="admin-card-title">E-Mail Templates</h3>
            </div>
            <p class="admin-card-description">Pflege HTML/Text Templates inklusive Variablen und Vorschau.</p>
            <div class="admin-card-footer">
                <span class="admin-card-action">Bearbeiten →</span>
            </div>
        </a>

        <a href="/admin/integrations" class="card admin-card">
            <div class="admin-card-header">
                <div class="admin-card-icon">🔗</div>
                <h3 class="admin-card-title">Integrationen</h3>
            </div>
            <p class="admin-card-description">Verwalte Anbindungen wie Telegram, n8n oder weitere externe Systeme.</p>
            <div class="admin-card-footer">
                <span class="admin-card-action">Konfigurieren →</span>
            </div>
        </a>

        <a href="/admin/backups" class="card admin-card">
            <div class="admin-card-header">
                <div class="admin-card-icon">💾</div>
                <h3 class="admin-card-title">Backup Management</h3>
            </div>
            <p class="admin-card-description">Plane automatische Sicherungen und behalte den Backup-Verlauf im Blick.</p>
            <div class="admin-card-footer">
                <span class="admin-card-action">Verwalten →</span>
            </div>
        </a>

        <a href="/admin/system" class="card admin-card">
            <div class="admin-card-header">
                <div class="admin-card-icon">⚙️</div>
                <h3 class="admin-card-title">Systeminformationen</h3>
            </div>
            <p class="admin-card-description">Analysiere Datenbankgesundheit, Tabellenstatistiken und Systemmetriken.</p>
            <div class="admin-card-footer">
                <span class="admin-card-action">Anzeigen →</span>
            </div>
        </a>
    </div>

    <div class="stats-overview">
        <h3>System-Übersicht</h3>
        <div class="stats-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Gesamte Events</span>
                    <div class="metric-icon">📅</div>
                </div>
                <div class="metric-value">{{ stats.total_events | default('—') }}</div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Aktive Workflows</span>
                    <div class="metric-icon">⚡</div>
                </div>
                <div class="metric-value">{{ stats.active_workflows | default('—') }}</div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">E-Mail Templates</span>
                    <div class="metric-icon">📧</div>
                </div>
                <div class="metric-value">{{ stats.email_templates | default('—') }}</div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Integrationen</span>
                    <div class="metric-icon">🔗</div>
                </div>
                <div class="metric-value">{{ stats.integrations | default('—') }}</div>
            </div>
        </div>
    </div>
</div>

<style>
.admin-overview {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
}

.admin-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-6);
    padding-bottom: var(--space-6);
    border-bottom: 1px solid var(--border-subtle);
}

.admin-header h2 {
    margin: 0 0 var(--space-2) 0;
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
}

.admin-header p {
    color: var(--text-secondary);
    margin: 0;
}

.admin-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--space-6);
}

.admin-card {
    display: flex;
    flex-direction: column;
    text-decoration: none;
    color: inherit;
    transition: all var(--duration-base) var(--ease-out);
    height: 100%;
}

.admin-card:hover {
    transform: translateY(-2px);
}

.admin-card-header {
    display: flex;
    align-items: flex-start;
    gap: var(--space-4);
    margin-bottom: var(--space-4);
}

.admin-card-icon {
    font-size: var(--font-size-xl);
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--primary-500), var(--primary-400));
    border-radius: var(--radius-lg);
    color: white;
    flex-shrink: 0;
}

.admin-card-title {
    margin: 0;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
}

.admin-card-description {
    flex: 1;
    color: var(--text-secondary);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-4);
}

.admin-card-footer {
    margin-top: auto;
}

.admin-card-action {
    color: var(--primary-500);
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-sm);
}

.stats-overview h3 {
    margin: 0 0 var(--space-6) 0;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
}
</style>
{% endblock %}